# Scenario: Proxy deployed into VNET
# This scenario represents deploying the SimpleL7Proxy within a Virtual Network for enhanced security and private connectivity

# Azure Environment
AZURE_LOCATION=westus2
AZURE_RESOURCE_GROUP=rg-dev-s7p-vnet

# Container Configuration
AZURE_CONTAINER_REGISTRY_NAME=acrdevs7pvnet
AZURE_CONTAINER_APP_NAME=s7p-dev-vnet
AZURE_CONTAINER_APP_ENVIRONMENT_NAME=cae-dev-s7p-vnet
AZURE_CONTAINER_APP_MIN_REPLICAS=2
AZURE_CONTAINER_APP_MAX_REPLICAS=10

# Network Configuration
USE_VNET=true
VNET_ADDRESS_PREFIX=10.0.0.0/16
SUBNET_ADDRESS_PREFIX=10.0.0.0/21
# Additional VNET settings
VNET_NAME=vnet-s7p-dev
SUBNET_NAME=subnet-container-apps
ENABLE_PRIVATE_DNS_ZONE=true

# Authentication Configuration
ENABLE_AUTHENTICATION=true
AUTH_TYPE=entraID

# Storage Configuration
AZURE_STORAGE_ACCOUNT=stdevs7pvnet
USE_ASYNC_STORAGE=true

# Backend Services
# Replace with your actual APIM URL (which could be private in a full VNET scenario)
BACKEND_HOST_URLS=https://your-apim-instance.azure-api.net
DEFAULT_REQUEST_TIMEOUT=100000

# Monitoring Configuration
ENABLE_APP_INSIGHTS=true
AZURE_LOG_ANALYTICS_WORKSPACE=log-dev-s7p-vnet

# Advanced Configuration
QUEUE_PRIORITY_LEVELS=5
ENABLE_SCALE_RULE=true
HTTP_CONCURRENT_REQUESTS_THRESHOLD=20